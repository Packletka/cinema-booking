{% extends 'cinema/base.html' %}
{% load static %}

{% block title %}–ì–ª–∞–≤–Ω–∞—è - –ö–∏–Ω–æ–∫–∞—Å—Å–∞{% endblock %}

{% block content %}
<!-- –ì–µ—Ä–æ–π —Å–µ–∫—Ü–∏—è -->
<section class="hero-section">
    <div class="container">
        <h1 class="hero-title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ö–∏–Ω–æ–∫–∞—Å—Å—É</h1>
        <p class="hero-subtitle">–ë—Ä–æ–Ω–∏—Ä—É–π—Ç–µ –±–∏–ª–µ—Ç—ã –≤ –∫–∏–Ω–æ –æ–Ω–ª–∞–π–Ω –±—ã—Å—Ç—Ä–æ –∏ —É–¥–æ–±–Ω–æ</p>
        <a href="{% url 'movie_list' %}" class="btn btn-danger btn-lg">–°–º–æ—Ç—Ä–µ—Ç—å —Ñ–∏–ª—å–º—ã</a>
    </div>
</section>

<!-- –°–µ–∫—Ü–∏—è —Å –ø–æ–ø—É–ª—è—Ä–Ω—ã–º–∏ —Ñ–∏–ª—å–º–∞–º–∏ -->
<section class="py-5">
    <div class="container">
        <h2 class="text-center mb-5 section-title">–°–µ–π—á–∞—Å –≤ –∫–∏–Ω–æ</h2>
        <div class="row">
            {% for movie in movies %}
            <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
                <div class="card movie-card h-100">
                    <div class="movie-poster">
                        {% if movie.poster %}
                            <img src="{{ movie.poster.url }}" alt="{{ movie.title }}" class="img-fluid">
                        {% else %}
                            <div class="bg-secondary text-white d-flex align-items-center justify-content-center h-100">
                                <span>–ü–æ—Å—Ç–µ—Ä –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç</span>
                            </div>
                        {% endif %}
                    </div>
                    <div class="card-body">
                        <h5 class="card-title">{{ movie.title }}</h5>
                        <p class="card-text"><small class="text-muted">{{ movie.genre }} ‚Ä¢ {{ movie.duration }} –º–∏–Ω</small></p>
                        <div class="rating">‚òÖ {{ movie.rating }}/10</div>
                        <a href="{% url 'movie_detail' movie.id %}" class="btn btn-outline-danger btn-sm mt-2">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="col-12 text-center">
                <p>–§–∏–ª—å–º—ã –ø–æ—è–≤—è—Ç—Å—è —Å–∫–æ—Ä–æ</p>
            </div>
            {% endfor %}
        </div>
        {% if movies %}
        <div class="text-center mt-4">
            <a href="{% url 'movie_list' %}" class="btn btn-outline-primary">–í—Å–µ —Ñ–∏–ª—å–º—ã</a>
        </div>
        {% endif %}
    </div>
</section>

<!-- –°–µ–∫—Ü–∏—è —Å –±–ª–∏–∂–∞–π—à–∏–º–∏ —Å–µ–∞–Ω—Å–∞–º–∏ -->
<section class="py-5 bg-light">
    <div class="container">
        <h2 class="text-center mb-5 section-title">–ë–ª–∏–∂–∞–π—à–∏–µ —Å–µ–∞–Ω—Å—ã</h2>
        <div class="row">
            {% for session in sessions %}
            <div class="col-md-6 col-lg-4 mb-4">
                <div class="card session-card h-100">
                    <div class="card-body">
                        <h5 class="card-title">{{ session.movie.title }}</h5>
                        <p class="card-text">
                            <strong>–í—Ä–µ–º—è:</strong> {{ session.start_time|date:"d M H:i" }}<br>
                            <strong>–ó–∞–ª:</strong> {{ session.hall.name }}<br>
                            <strong>–¶–µ–Ω–∞:</strong> {{ session.price }} —Ä—É–±.
                        </p>
                        {% if user.is_authenticated %}
                            <a href="{% url 'booking' session.id %}" class="btn btn-danger">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</a>
                        {% else %}
                            <a href="{% url 'login' %}" class="btn btn-outline-danger">–í–æ–π—Ç–∏ –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</a>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="col-12 text-center">
                <p>–ë–ª–∏–∂–∞–π—à–∏–µ —Å–µ–∞–Ω—Å—ã –ø–æ—è–≤—è—Ç—Å—è —Å–∫–æ—Ä–æ</p>
            </div>
            {% endfor %}
        </div>
        {% if sessions %}
        <div class="text-center mt-4">
            <a href="{% url 'session_list' %}" class="btn btn-outline-primary">–í—Å–µ —Å–µ–∞–Ω—Å—ã</a>
        </div>
        {% endif %}
    </div>
</section>

<!-- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ -->
<section class="py-5">
    <div class="container">
        <div class="row text-center">
            <div class="col-md-4 mb-4">
                <div class="feature-icon">
                    <h3>üéØ</h3>
                </div>
                <h4>–ë—ã—Å—Ç—Ä–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</h4>
                <p>–ó–∞–±—Ä–æ–Ω–∏—Ä—É–π—Ç–µ –±–∏–ª–µ—Ç—ã –∑–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª–∏–∫–æ–≤</p>
            </div>
            <div class="col-md-4 mb-4">
                <div class="feature-icon">
                    <h3>üí∫</h3>
                </div>
                <h4>–õ—É—á—à–∏–µ –º–µ—Å—Ç–∞</h4>
                <p>–í—ã–±–∏—Ä–∞–π—Ç–µ —É–¥–æ–±–Ω—ã–µ –º–µ—Å—Ç–∞ –≤ –∑–∞–ª–µ</p>
            </div>
            <div class="col-md-4 mb-4">
                <div class="feature-icon">
                    <h3>üì±</h3>
                </div>
                <h4>–£–¥–æ–±–Ω–æ –∏ –ø—Ä–æ—Å—Ç–æ</h4>
                <p>–ë—Ä–æ–Ω–∏—Ä—É–π—Ç–µ —Å –ª—é–±–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</p>
            </div>
        </div>
    </div>
</section>
{% endblock %}