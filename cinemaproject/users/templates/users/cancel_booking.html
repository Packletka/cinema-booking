{% extends 'cinema/base.html' %}
{% load static %}

{% block title %}–û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏ - –ö–∏–Ω–æ–∫–∞—Å—Å–∞{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card shadow">
                <div class="card-header bg-danger text-white">
                    <h3 class="text-center mb-0">–û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
                </div>
                <div class="card-body p-4 text-center">
                    {% if can_cancel %}
                    <div class="mb-4">
                        <span style="font-size: 3rem;">‚ö†Ô∏è</span>
                    </div>
                    
                    <h5>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–º–µ–Ω–∏—Ç—å –±—Ä–æ–Ω—å?</h5>
                    
                    <div class="booking-details mt-4 p-3 bg-light rounded">
                        <p><strong>–§–∏–ª—å–º:</strong> {{ booking.session.movie.title }}</p>
                        <p><strong>–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è:</strong> {{ booking.session.start_time|date:"d M Y H:i" }}</p>
                        <p><strong>–ó–∞–ª:</strong> {{ booking.session.hall.name }}</p>
                        <p><strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç:</strong> {{ booking.seats_count }}</p>
                        <p><strong>–°—Ç–æ–∏–º–æ—Å—Ç—å:</strong> {{ booking.total_price }} —Ä—É–±.</p>
                    </div>

                    <form method="POST" class="mt-4">
                        {% csrf_token %}
                        <button type="submit" class="btn btn-danger btn-lg">–î–∞, –æ—Ç–º–µ–Ω–∏—Ç—å –±—Ä–æ–Ω—å</button>
                        <a href="{% url 'profile' %}" class="btn btn-outline-secondary btn-lg">–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥</a>
                    </form>
                    {% else %}
                    <div class="mb-4">
                        <span style="font-size: 3rem;">üö´</span>
                    </div>
                    
                    <h5 class="text-danger">–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å –±—Ä–æ–Ω—å</h5>
                    <p>{{ cancellation_message }}</p>
                    
                    <div class="booking-details mt-4 p-3 bg-light rounded">
                        <p><strong>–§–∏–ª—å–º:</strong> {{ booking.session.movie.title }}</p>
                        <p><strong>–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è:</strong> {{ booking.session.start_time|date:"d M Y H:i" }}</p>
                        <p><strong>–ó–∞–ª:</strong> {{ booking.session.hall.name }}</p>
                    </div>

                    <div class="mt-4">
                        <a href="{% url 'profile' %}" class="btn btn-primary btn-lg">–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª—å</a>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}